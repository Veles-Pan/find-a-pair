(function(t){function e(e){for(var c,o,i=e[0],s=e[1],u=e[2],l=0,b=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&b.push(n[o][0]),n[o]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c]);d&&d(e);while(b.length)b.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],c=!0,i=1;i<r.length;i++){var s=r[i];0!==n[s]&&(c=!1)}c&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var c={},n={app:0},a=[];function o(e){if(c[e])return c[e].exports;var r=c[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=c,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)o.d(r,c,function(e){return t[e]}.bind(null,c));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/card-game/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=s;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"04bc":function(t,e,r){},"3e9e":function(t,e,r){},"542a":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var c=r("7a23");function n(t,e,r,n,a,o){var i=Object(c["k"])("StartGame"),s=Object(c["k"])("Game"),u=Object(c["k"])("EndGame");return Object(c["g"])(),Object(c["c"])(c["a"],null,[a.isGameCreated?Object(c["d"])("",!0):(Object(c["g"])(),Object(c["c"])(i,{key:0,onCard:o.cardNumber},null,8,["onCard"])),a.isGameEnded?a.isGameCreated?(Object(c["g"])(),Object(c["c"])(u,{key:2})):Object(c["d"])("",!0):(Object(c["g"])(),Object(c["c"])(s,{key:1,onScore:o.getScore},null,8,["onScore"]))],64)}var a=Object(c["o"])("data-v-ca76cb36");Object(c["i"])("data-v-ca76cb36");var o={class:"intro"},i=Object(c["f"])("h1",{class:"intro__title"},"Игра «Найди пару»",-1),s={class:"form"},u={for:"card-number",class:"form__label"};Object(c["h"])();var d=a((function(t,e,r,n,a,d){return Object(c["g"])(),Object(c["c"])("main",o,[i,Object(c["f"])("form",s,[Object(c["f"])("label",u,"Количество карточек: "+Object(c["l"])(a.number),1),Object(c["n"])(Object(c["f"])("input",{class:"form__item form__item_card-number",type:"range",min:"6",max:"30",step:"2",id:"card-number",name:"card-number","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.number=t})},null,512),[[c["m"],a.number]]),Object(c["f"])("button",{type:"button",class:"form__button",onClick:e[2]||(e[2]=function(){return d.createGame&&d.createGame.apply(d,arguments)})},"Создать игру")])])})),l={name:"StartGame",data:function(){return{number:12}},methods:{createGame:function(){this.$emit("card",this.number)}}};r("b302");l.render=d,l.__scopeId="data-v-ca76cb36";var b=l,f=Object(c["o"])("data-v-312a4835");Object(c["i"])("data-v-312a4835");var m={class:"gameplay"},h={class:"gameplay__timer"},p=Object(c["f"])("strong",{class:"text_bold"},"Your time: ",-1),O={class:"gameplay__score"},j=Object(c["f"])("strong",{class:"text_bold"},"Your score: ",-1),v={class:"cards"};Object(c["h"])();var _=f((function(t,e,r,n,a,o){var i=Object(c["k"])("CardTemplate");return Object(c["g"])(),Object(c["c"])("main",m,[Object(c["f"])("p",h,[p,Object(c["e"])(Object(c["l"])(a.currentTime),1)]),Object(c["f"])("p",O,[j,Object(c["e"])(Object(c["l"])(a.currentScore),1)]),Object(c["f"])("div",v,[(Object(c["g"])(!0),Object(c["c"])(c["a"],null,Object(c["j"])(a.colors,(function(t){return Object(c["g"])(),Object(c["c"])(i,{key:t.id,onOpenedCard:o.openCard,cardColor:t},null,8,["onOpenedCard","cardColor"])})),128))])])})),C=(r("159b"),Object(c["o"])("data-v-674e445e")),g=C((function(t,e,r,n,a,o){return Object(c["g"])(),Object(c["c"])("div",{class:"card card_unactive",onClick:e[1]||(e[1]=function(){return o.openCard&&o.openCard.apply(o,arguments)}),style:{backgroundColor:a.isActive?r.cardColor.color:"#6c6874"}},null,4)})),y={name:"CardTemplate",props:{cardColor:Object},data:function(){return{isActive:this.cardColor.isActive}},methods:{openCard:function(t){this.isActive=!this.isActive,this.$emit("openedCard",t.target,this.cardColor,this.isActive)}}};r("cb7c");y.render=g,y.__scopeId="data-v-674e445e";var G=y,S={name:"Game",components:{CardTemplate:G},data:function(){return{numberOfCards:parseInt(this.$parent.number),colors:[],cardsList:[],currentTime:0,currentScore:0,isFinished:!1,counter:0}},methods:{startTimer:function(){var t=this;this.timer=setInterval((function(){t.currentTime++}),1e3)},stopTimer:function(){clearTimeout(this.timer)},addPoint:function(){this.currentScore+=2},openCard:function(t,e,r){this.cardsList.push({element:t,color:e,isActive:r}),this.checkCards()},checkCards:function(){var t=this;if(this.cardsList.length>1)if(this.preventClick(),this.cardsList[0].color.color===this.cardsList[1].color.color&&this.cardsList[0].color.id!==this.cardsList[1].color.id)this.cardsList[0].element.classList.add("card_finished"),this.cardsList[1].element.classList.add("card_finished"),this.addPoint(),this.cardsList=[];else if(this.cardsList[0].color.id===this.cardsList[1].color.id)this.cardsList=[];else{var e=this.searchCard(this.cardsList[0].color.id,this.cardsList[1].color.id);setTimeout((function(){e[0].isActive=!1,e[1].isActive=!1,e[0].id=t.counter,e[1].id=t.counter+1,t.counter+=2,t.cardsList=[]}),400)}},searchCard:function(t,e){var r=[];return this.colors.forEach((function(c){c.id!==t&&c.id!==e||r.push(c)})),r},preventClick:function(){document.querySelector("#app").style.pointerEvents="none",setTimeout((function(){document.querySelector("#app").style.pointerEvents="auto"}),400)},getRandomColor:function(){for(var t="0123456789ABCDEF",e="#",r=0;r<6;r++)e+=t[Math.floor(16*Math.random())];return e}},watch:{currentScore:function(){this.currentScore===this.numberOfCards&&(this.$emit("score",100*this.currentScore/(.1*this.currentTime)),this.stopTimer(),this.$parent.isGameEnded=!0)}},created:function(){for(var t=this.numberOfCards/2;t>0;t--){var e=this.getRandomColor();this.colors.push({color:e,isActive:!1,id:this.counter},{color:e,isActive:!1,id:this.counter+1}),this.counter+=2}for(var r=this.colors.length-1;r>0;r--){var c=Math.floor(Math.random()*(r+1)),n=[this.colors[c],this.colors[r]];this.colors[r]=n[0],this.colors[c]=n[1]}},mounted:function(){this.startTimer()}};r("928f");S.render=_,S.__scopeId="data-v-312a4835";var k=S,L=Object(c["o"])("data-v-74e6e484");Object(c["i"])("data-v-74e6e484");var T={class:"intro"},A=Object(c["f"])("h1",{class:"intro__title"},"Игра «Найди пару» окончена!",-1),w=Object(c["f"])("strong",{class:"intro__text"},"Ваши баллы:",-1),E=Object(c["e"])(),x={class:"intro__score"};Object(c["h"])();var P=L((function(t,e,r,n,a,o){return Object(c["g"])(),Object(c["c"])("main",T,[A,w,E,Object(c["f"])("p",x,Object(c["l"])(a.score),1),Object(c["f"])("button",{class:"intro__button",onClick:e[1]||(e[1]=function(){return o.restartGame&&o.restartGame.apply(o,arguments)})},"Новая игра")])})),I={name:"EndGame",data:function(){return{score:this.$parent.score}},methods:{restartGame:function(){this.$parent.isGameCreated=!1}}};r("cad7");I.render=P,I.__scopeId="data-v-74e6e484";var M=I,$={name:"App",data:function(){return{number:"",isGameCreated:!1,isGameEnded:!0,score:0}},components:{StartGame:b,Game:k,EndGame:M},methods:{cardNumber:function(t){this.number=parseInt(t),this.isGameCreated=!0,this.isGameEnded=!1},getScore:function(t){this.score=parseInt(t)}}};r("ba51");$.render=n;var q=$;Object(c["b"])(q).mount("#app")},"64d5":function(t,e,r){},"928f":function(t,e,r){"use strict";r("9ca3")},"9ca3":function(t,e,r){},b302:function(t,e,r){"use strict";r("3e9e")},ba51:function(t,e,r){"use strict";r("04bc")},cad7:function(t,e,r){"use strict";r("542a")},cb7c:function(t,e,r){"use strict";r("64d5")}});
//# sourceMappingURL=app.f60e8f1a.js.map
