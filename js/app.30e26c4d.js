(function(t){function e(e){for(var n,o,i=e[0],s=e[1],u=e[2],l=0,b=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(b.length)b.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,i=1;i<r.length;i++){var s=r[i];0!==c[s]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},c={app:0},a=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/card-game/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=s;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"04bc":function(t,e,r){},"0bb1":function(t,e,r){"use strict";r("77ac")},"3e9e":function(t,e,r){},"542a":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function c(t,e,r,c,a,o){var i=Object(n["k"])("StartGame"),s=Object(n["k"])("Game"),u=Object(n["k"])("EndGame");return Object(n["g"])(),Object(n["c"])(n["a"],null,[a.isGameCreated?Object(n["d"])("",!0):(Object(n["g"])(),Object(n["c"])(i,{key:0,onCard:o.cardNumber},null,8,["onCard"])),a.isGameEnded?a.isGameCreated?(Object(n["g"])(),Object(n["c"])(u,{key:2})):Object(n["d"])("",!0):(Object(n["g"])(),Object(n["c"])(s,{key:1,onScore:o.getScore},null,8,["onScore"]))],64)}var a=Object(n["o"])("data-v-ca76cb36");Object(n["i"])("data-v-ca76cb36");var o={class:"intro"},i=Object(n["f"])("h1",{class:"intro__title"},"Игра «Найди пару»",-1),s={class:"form"},u={for:"card-number",class:"form__label"};Object(n["h"])();var d=a((function(t,e,r,c,a,d){return Object(n["g"])(),Object(n["c"])("main",o,[i,Object(n["f"])("form",s,[Object(n["f"])("label",u,"Количество карточек: "+Object(n["l"])(a.number),1),Object(n["n"])(Object(n["f"])("input",{class:"form__item form__item_card-number",type:"range",min:"6",max:"30",step:"2",id:"card-number",name:"card-number","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.number=t})},null,512),[[n["m"],a.number]]),Object(n["f"])("button",{type:"button",class:"form__button",onClick:e[2]||(e[2]=function(){return d.createGame&&d.createGame.apply(d,arguments)})},"Создать игру")])])})),l={name:"StartGame",data:function(){return{number:12}},methods:{createGame:function(){this.$emit("card",this.number)}}};r("b302");l.render=d,l.__scopeId="data-v-ca76cb36";var b=l,f=Object(n["o"])("data-v-6df06b14");Object(n["i"])("data-v-6df06b14");var m={class:"gameplay"},p={class:"gameplay__timer"},h=Object(n["f"])("strong",{class:"text_bold"},"Your time: ",-1),O={class:"gameplay__score"},j=Object(n["f"])("strong",{class:"text_bold"},"Your score: ",-1),v={class:"cards"};Object(n["h"])();var _=f((function(t,e,r,c,a,o){var i=Object(n["k"])("CardTemplate");return Object(n["g"])(),Object(n["c"])("main",m,[Object(n["f"])("p",p,[h,Object(n["e"])(Object(n["l"])(a.currentTime),1)]),Object(n["f"])("p",O,[j,Object(n["e"])(Object(n["l"])(a.currentScore),1)]),Object(n["f"])("div",v,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(a.colors,(function(t){return Object(n["g"])(),Object(n["c"])(i,{key:t,onOpenedCard:o.openCard,cardColor:t},null,8,["onOpenedCard","cardColor"])})),128))])])})),g=Object(n["o"])("data-v-52a9d826"),C=g((function(t,e,r,c,a,o){return Object(n["g"])(),Object(n["c"])("div",{class:"card card_unactive",onClick:e[1]||(e[1]=function(){return o.openCard&&o.openCard.apply(o,arguments)}),style:{backgroundColor:a.isActive?r.cardColor:"#6c6874"}},null,4)})),y={name:"CardTemplate",props:{cardColor:String},data:function(){return{isActive:!1}},methods:{openCard:function(t){this.isActive=!this.isActive,this.$emit("openedCard",t.target,this.cardColor,this.isActive)}}};r("9189");y.render=C,y.__scopeId="data-v-52a9d826";var G=y,S={name:"Game",components:{CardTemplate:G},data:function(){return{numberOfCards:parseInt(this.$parent.number),colors:[],cardsList:[],currentTime:0,currentScore:0,isFinished:!1}},methods:{startTimer:function(){var t=this;this.timer=setInterval((function(){t.currentTime++}),1e3)},stopTimer:function(){clearTimeout(this.timer)},addPoint:function(){this.currentScore+=2},openCard:function(t,e,r){this.cardsList.push({element:t,color:e,isActive:r}),this.checkCards()},checkCards:function(){this.cardsList.length>1&&(this.preventClick(),this.cardsList[0].color===this.cardsList[1].color?(this.cardsList[0].element.classList.add("card_finished"),this.cardsList[1].element.classList.add("card_finished"),this.addPoint(),this.cardsList=[]):(this.cardsList[0].isActive=!1,this.cardsList[1].isActive=!1,this.cardsList=[]))},preventClick:function(){document.querySelector("#app").style.pointerEvents="none",setTimeout((function(){document.querySelector("#app").style.pointerEvents="auto"}),400)},getRandomColor:function(){for(var t="0123456789ABCDEF",e="#",r=0;r<6;r++)e+=t[Math.floor(16*Math.random())];return e}},watch:{currentScore:function(){this.currentScore===this.numberOfCards&&(this.$emit("score",100*this.currentScore/(.1*this.currentTime)),this.stopTimer(),this.$parent.isGameEnded=!0)}},created:function(){for(var t=this.numberOfCards/2;t>0;t--){var e=this.getRandomColor();this.colors.push(e,e)}for(var r=this.colors.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),c=[this.colors[n],this.colors[r]];this.colors[r]=c[0],this.colors[n]=c[1]}},mounted:function(){this.startTimer()}};r("0bb1");S.render=_,S.__scopeId="data-v-6df06b14";var k=S,T=Object(n["o"])("data-v-74e6e484");Object(n["i"])("data-v-74e6e484");var L={class:"intro"},w=Object(n["f"])("h1",{class:"intro__title"},"Игра «Найди пару» окончена!",-1),x=Object(n["f"])("strong",{class:"intro__text"},"Ваши баллы:",-1),A=Object(n["e"])(),E={class:"intro__score"};Object(n["h"])();var P=T((function(t,e,r,c,a,o){return Object(n["g"])(),Object(n["c"])("main",L,[w,x,A,Object(n["f"])("p",E,Object(n["l"])(a.score),1),Object(n["f"])("button",{class:"intro__button",onClick:e[1]||(e[1]=function(){return o.restartGame&&o.restartGame.apply(o,arguments)})},"Новая игра")])})),I={name:"EndGame",data:function(){return{score:this.$parent.score}},methods:{restartGame:function(){this.$parent.isGameCreated=!1}}};r("cad7");I.render=P,I.__scopeId="data-v-74e6e484";var M=I,$={name:"App",data:function(){return{number:"",isGameCreated:!1,isGameEnded:!0,score:0}},components:{StartGame:b,Game:k,EndGame:M},methods:{cardNumber:function(t){this.number=parseInt(t),this.isGameCreated=!0,this.isGameEnded=!1},getScore:function(t){this.score=parseInt(t)}}};r("ba51");$.render=c;var q=$;Object(n["b"])(q).mount("#app")},"77ac":function(t,e,r){},9189:function(t,e,r){"use strict";r("dd0b")},b302:function(t,e,r){"use strict";r("3e9e")},ba51:function(t,e,r){"use strict";r("04bc")},cad7:function(t,e,r){"use strict";r("542a")},dd0b:function(t,e,r){}});
//# sourceMappingURL=app.14740ef5.js.map
